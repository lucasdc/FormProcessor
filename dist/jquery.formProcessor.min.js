/*!
 * jQuery Form Processor v3.4.1
 *
 * Copyright (c) 2016 Lucas Dupke; MIT License
 */
!function(t,n,a){function e(n){for(var a,e=!0,i=n.data("req").split("|"),o=i.length,l=0;o>l;)a=/([\w\d_]+)({([^!]+)})?/g.exec(i[l]),t.isFunction(r[a[1]])&&(r[a[1]](n,a[3])||(e=!1)),l++;return e}function i(n,a,e,i){t.isFunction(n)&&n.call(a,e,i)}t.fn.fpMask=function(){function n(){for(var n,e,i=t(this).data("mask"),r=t(this).val(),o=r.split(""),l="",d=0;d<i.length&&o.length>0;)n=o.shift(),a[i[d]]?(e=new RegExp(a[i[d]]),e.test(n)&&(l+=n,d++)):""!=i[d]&&(i[d]==n?l+=n:(l+=i[d],o.unshift(n)),d++);t(this).val(l)}var a={a:"[a-zA-Z]",9:"[0-9]","*":"[a-zA-Z0-9]"};return t(this).on("input",n)};var r={},o={},l={onError:function(t,n){t.focus(),console.log(t)},onStart:function(t){},onEnd:function(t,n){},onAjaxError:function(t){},formFilter:"input[data-req], select[data-req], textarea[data-req]",ignoreFilter:"",stopOnError:!0,validateOnBlur:!1,debug:!1,autoMask:!0};t.addValidationRule=function(t,n){r[t]=n},t.addAjaxResponse=function(t,n){o[t]=n},t.fn.validate=function(n){var a,r,o=t.extend({},l,n),d=this,u=!0;if(d.length>0){if(i(o.onStart,d,d),d.eq(0).is("input,select,textarea"))e(d.eq(0))||(i(o.onError,d,d.eq(0),d),u=!1);else for(a=d.find(o.formFilter).filter(":not( "+o.ignoreFilter+" )"),r=0;r<a.length&&(e(t(a[r]))||(i(o.onError,t(a[r]),t(a[r]),d),u=!1,!o.stopOnError));r++);i(o.onEnd,d,d,u)}return u},t.fn.formProc=function(n){var a=t.extend({},l,n);if(a.autoMask&&this.find("input[data-mask], textarea[data-mask]").fpMask(),a.validateOnBlur){var e=this.find(a.formFilter).filter(":not( "+a.ignoreFilter+" )");e.each(function(n,e){t(this).on("blur",function(){t(this).validate(a)})})}return this.attr("novalidate",!0),this.data("sending",!1),t(this).on("submit",function(){var n=t(this),e=!0,r=n.data("ajax"),l=n.attr("action");if(n.data("sending"))return!1;if(n.data("sending",!0),e=n.validate(a)){if(r)return t.post(l,n.serialize()).done(function(t){i(o[r],n,t)}).fail(function(){i(a.onAjaxError,n,n)}).always(function(){n.data("sending",!1)}),!1}else n.data("sending",!1);return e})},t.addValidationRule("date",function(t,n,a){for(var n=(n||"d/m/a").replace("y","a"),e=n.split(a=/([^\w\d])/gi.exec(n)[0]),i=t.val().split(a),r={a:0,m:0,d:0},o=e.length;o--;)r[e[o]]=""+i[o];var l,d=new Date(r.a,r.m-1,r.d);return r.m[l="length"]<3&&r.d[l]<3&&4==r.a[l]?r.m==d.getMonth()+1&&!isNaN(+d):!1}),t.addValidationRule("email",function(t){return/^[\w\.%\+\-]+@(?:[A-Z0-9\-]+\.)+(?:[A-Z]{2,6})$/i.test(t.val())}),t.addValidationRule("required",function(t,n){var a=n||9e6,e=t.val();return!(e.length<=0||e.length>a)}),t.addValidationRule("min",function(t,n){var a=n||0,e=t.val();return!(e.length<a)}),t.addValidationRule("number",function(t){var n=t.val();return""!=n&&!isNaN(n)}),t.addValidationRule("matches",function(n,a){var e=n.val();return e==t(a).val()}),t.addValidationRule("range",function(t,n){var a=n.split(","),e=t.val();return+e>=+a[0]&&+e<=+a[1]}),t.addValidationRule("regex",function(t,n){return RegExp(n).test(t.val())}),t.addValidationRule("checked",function(n){return t('input[type="'+n.attr("type")+'"][name="'+n.attr("name")+'"]:checked').length>0})}(jQuery,window);